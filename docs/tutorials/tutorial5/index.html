<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Gaussian processes, sampling and marginalization | Scalismo</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="0.90"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-0.90"><meta data-react-helmet="true" property="og:title" content="Gaussian processes, sampling and marginalization | Scalismo"><meta data-react-helmet="true" name="description" content="In this tutorial we will experiment with sampling and marginalization of"><meta data-react-helmet="true" property="og:description" content="In this tutorial we will experiment with sampling and marginalization of"><meta data-react-helmet="true" property="og:url" content="https://scalismo.org/docs/tutorials/tutorial5"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://scalismo.org/docs/tutorials/tutorial5"><link rel="stylesheet" href="/styles.ecbe9e9d.css">
<link rel="preload" href="/styles.4711b045.js" as="script">
<link rel="preload" href="/runtime~main.6e04eccd.js" as="script">
<link rel="preload" href="/main.a12142ef.js" as="script">
<link rel="preload" href="/1.ae4a5136.js" as="script">
<link rel="preload" href="/94.c6277ced.js" as="script">
<link rel="preload" href="/96.de6c3c3e.js" as="script">
<link rel="preload" href="/f68ef350.d74c4105.js" as="script">
<link rel="preload" href="/93.9a579cf0.js" as="script">
<link rel="preload" href="/9edb6d75.a2d861ad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Scalismo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Scalismo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Scalismo</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/onlinecourse">Online courses</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/support">Support</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/unibas-gravis/scalismo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/">0.90</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/tutorials/tutorial5">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/tutorials/tutorial5">0.90</a></li><li><a class="dropdown__link" href="/docs/0.18/tutorials/tutorial5">0.18</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Scalismo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Scalismo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Scalismo</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/onlinecourse">Online courses</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/unibas-gravis/scalismo" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/support">Support</a></li><li class="menu__list-item"><a class="menu__link" href="/about">About</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/tutorials/tutorial5">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/tutorials/tutorial5">0.90</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.18/tutorials/tutorial5">0.18</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial1">Hello Scalismo!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial2">Rigid Alignment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial3">From meshes to deformation fields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial4">Gaussian processes and Point Distribution Models</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/tutorials/tutorial5">Gaussian processes, sampling and marginalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial6">Building a shape model from data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial7">Shape modelling with Gaussian processes and kernels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial8">Posterior shape models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial9">Shape completion using GP regression</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial10">Iterative Closest Points for rigid alignment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial11">Model fitting with Iterative Closest Points</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial12">Parametric, non-rigid registration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial13">Active Shape Model Fitting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial14">Model fitting using MCMC - The basic framework</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tutorial15">Model fitting using MCMC - Fitting a shape model</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Others</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/scalismo-ui-introduction">Introduction to Scalismo-ui</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 0.90</span></div><header><h1 class="docTitle_1Lrw">Gaussian processes, sampling and marginalization</h1></header><div class="markdown"><p>In this tutorial we will experiment with sampling and marginalization of
Gaussian processes. Furthermore, we will learn how to compare the
likelihood of instances of our model.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="related-resources"></a>Related resources<a aria-hidden="true" class="hash-link" href="#related-resources" title="Direct link to heading">#</a></h5><p>The following resources from our <a href="https://www.futurelearn.com/courses/statistical-shape-modelling" target="_blank" rel="noopener noreferrer">online course</a> may provide
some helpful context for this tutorial:</p><ul><li>The marginalization property <a href="https://www.futurelearn.com/courses/statistical-shape-modelling/3/steps/250339" target="_blank" rel="noopener noreferrer">(Video)</a></li><li>Sampling from a shape model <a href="https://www.futurelearn.com/courses/statistical-shape-modelling/3/steps/250340" target="_blank" rel="noopener noreferrer">(Article)</a></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="preparation"></a>Preparation<a aria-hidden="true" class="hash-link" href="#preparation" title="Direct link to heading">#</a></h5><p>As in the previous tutorials, we start by importing some commonly used objects and initializing the system.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.ui.api._</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.geometry._</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.common._</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.common.interpolation.TriangleMeshInterpolator3D</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.mesh._</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.io.StatisticalModelIO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import scalismo.statisticalmodel._</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">scalismo.initialize()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">implicit val rng = scalismo.utils.Random(42)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val ui = ScalismoUI()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="discrete-and-continuous-gaussian-processes"></a>Discrete and Continuous Gaussian processes<a aria-hidden="true" class="hash-link" href="#discrete-and-continuous-gaussian-processes" title="Direct link to heading">#</a></h4><p>We have seen in the last tutorial that a Point Distribution Model (PDM)
is represented in Scalismo as a (discrete) Gaussian process over deformation fields,
defined on a reference mesh.</p><p>To continue our exploration of Gaussian processes, we therefore start
by loading (and visualizing) an existing PDM and retrieve its underlying
Gaussian process</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val model = StatisticalModelIO.readStatisticalTriangleMeshModel3D(new java.io.File(&quot;datasets/bfm.h5&quot;)).get</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val gp = model.gp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val modelGroup = ui.createGroup(&quot;modelGroup&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val ssmView = ui.show(modelGroup, model, &quot;model&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We can retrieve random samples from the Gaussian process by calling <code>sample</code>
on the <code>gp</code> object:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val sampleDF : DiscreteField[_3D, TriangleMesh, EuclideanVector[_3D]] = model.gp.sample</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val sampleGroup = ui.createGroup(&quot;sample&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ui.show(sampleGroup, sampleDF, &quot;discreteSample&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Note that the sampled vector field is <strong>discrete</strong>; I.e. is
defined over a <strong>discrete set of points</strong>.
This is due to the fact that our Gaussian Process is stored in a file
and was therefore discretized over the points of the reference mesh.</p><p>As seen in the previous tutorial, we could interpolate the
sample <code>sampleDf</code> to obtain a continuous version of the deformation field.
A more convenient approach is, however, to interpolate the
Gaussian process directly:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val interpolator = TriangleMeshInterpolator3D[EuclideanVector[_3D]]()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val contGP = model.gp.interpolate(interpolator)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When we sample now from the continuous GP, we obtain a vector-valued function,
which is defined on the entire 3D Space:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val contSample: Field[_3D, EuclideanVector[_3D]] = contGP.sample</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><em>Attention: While the interpolated Gaussian process is now defined on the entire 3D Space, the interpolation really only makes sense close to the mesh points</em>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="from-continuous-to-discrete-marginalization-and-discretization"></a>From continuous to discrete: marginalization and discretization<a aria-hidden="true" class="hash-link" href="#from-continuous-to-discrete-marginalization-and-discretization" title="Direct link to heading">#</a></h2><p>In practice, we will never work with a continuous Gaussian process directly.
We are always interested in the distribution on a finite set of points.
The real advantage of having a continuous Gaussian process is, that we can
get samples at <em>any</em> finite set of points and thereby choosing the discretization
according to the needs of our application.</p><p>To illustrate this, we could, for example obtain a sample,
which is defined on all the points of the original reference mesh.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val fullSample = contGP.sampleAtPoints(model.reference)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val fullSampleView = ui.show(sampleGroup, fullSample, &quot;fullSample&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The marginalization property of a Gaussian process makes it possible not only
to obtain samples at an arbitrary set of points, but also the
distribution at these points. We can
obtain this distribution, by calling the method <code>marginal</code>
on the Gaussian process instance:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val referencePointSet = model.reference.pointSet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val rightEyePt: Point[_3D] = referencePointSet.point(PointId(4281))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val leftEyePt: Point[_3D] = referencePointSet.point(PointId(11937))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val marginal : DiscreteGaussianProcess[_3D, UnstructuredPointsDomain, EuclideanVector[_3D]] = contGP.marginal(IndexedSeq(rightEyePt,leftEyePt))</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The result of marginalization is again a discrete Gaussian process. As we have specified individual points, on which
to evaluate the Gaussian process, but not how these points are connected, the resulting
discrete Gaussian process is defined over an <code>UnstructuredPointsDomain</code>.
To obtain a discrete Gaussian Process with a richer structure, we can use the <code>discretize</code> method,
which takes as an argument a domain and result in a discrete Gaussian Process defined on that domain.</p><p>To obtain the Gaussian Process that we started with again, we can call the <code>discretize</code> method
with the reference mesh:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val discreteGP : DiscreteGaussianProcess[_3D, TriangleMesh, EuclideanVector[_3D]] = contGP.discretize(model.reference)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This mechanism of interpolation followed by discretization gives us the ability to freely change
the resolution of the domain on which the Gaussian process is defined.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="changing-the-reference-of-a-point-distribution-model"></a>Changing the reference of a point distribution model<a aria-hidden="true" class="hash-link" href="#changing-the-reference-of-a-point-distribution-model" title="Direct link to heading">#</a></h2><p>Given that a point distribution model is really just a wrapper around a Gaussian process, it
is not surprising that we can apply the same ideas to these models. In particular, we often
would like to change the domain (I.e., the reference) of a point distribution model.
This can be done using the method <code>newReference</code> of the point distribution model. Under the hood, the method <code>newReference</code>
interpolates the gaussian process and discretizes it with the new reference.</p><p>In the following example we use this method to obtain a model which is defined on a low-resolution mesh:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val lowresMesh = model.reference.operations.decimate(1000)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val lowResModel = model.newReference(lowresMesh, TriangleMeshInterpolator3D())</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Other common applications of this method include restricting the model to only a part of the domain.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="probability-of-shapes-and-deformations"></a>Probability of shapes and deformations:<a aria-hidden="true" class="hash-link" href="#probability-of-shapes-and-deformations" title="Direct link to heading">#</a></h2><p>It is often interesting to assess how probable a model instance is.
This can be done in Scalismo by means of the method <code>pdf </code>
(which stands for probability density function) of the class <code>GaussianProcess</code>
and <code>StatisticalMeshModel</code> respectively.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val defSample = model.gp.sample</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">model.gp.pdf(defSample)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The value of the <em>pdf</em> is often not interesting as such. But it allows us to compare the likelihood of different instances, by comparing their density value.
For numerical reasons, we usually work with the log probability:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-scala codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val defSample1 = model.gp.sample</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// defSample1: DiscreteField[_3D, TriangleMesh, EuclideanVector[_3D]] = &lt;function1&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val defSample2 = model.gp.sample</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// defSample2: DiscreteField[_3D, TriangleMesh, EuclideanVector[_3D]] = &lt;function1&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val logPDF1 = model.gp.logpdf(defSample1)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// logPDF1: Double = -12.599680420141278</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val logPDF2 = model.gp.logpdf(defSample2)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// logPDF2: Double = -12.300955026410005</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val moreOrLess = if (logPDF1 &gt; logPDF2) &quot;more&quot; else &quot;less&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// moreOrLess: String = &quot;less&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">println(s&quot;defSample1 is $moreOrLess likely than defSample2&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// defSample1 is less likely than defSample2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/unibas-gravis/scalismo-microsite/edit/master/website/versioned_docs/version-0.90/tutorials/tutorial5.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorials/tutorial4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Gaussian processes and Point Distribution Models</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/tutorial6"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building a shape model from data »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#from-continuous-to-discrete-marginalization-and-discretization" class="table-of-contents__link">From continuous to discrete: marginalization and discretization</a></li><li><a href="#changing-the-reference-of-a-point-distribution-model" class="table-of-contents__link">Changing the reference of a point distribution model</a></li><li><a href="#probability-of-shapes-and-deformations" class="table-of-contents__link">Probability of shapes and deformations:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Tutorial</a></li><li class="footer__item"><a href="http://unibas-gravis.github.io/scalismo/latest/api/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">API-Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://groups.google.com/g/scalismo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://gitter.im/unibas-gravis/scalismo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter-Chat</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/unibas-gravis/scalismo" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2021 University of Basel. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.4711b045.js"></script>
<script src="/runtime~main.6e04eccd.js"></script>
<script src="/main.a12142ef.js"></script>
<script src="/1.ae4a5136.js"></script>
<script src="/94.c6277ced.js"></script>
<script src="/96.de6c3c3e.js"></script>
<script src="/f68ef350.d74c4105.js"></script>
<script src="/93.9a579cf0.js"></script>
<script src="/9edb6d75.a2d861ad.js"></script>
</body>
</html>